<!doctype html><html><head><title>Radar Region Proposal Network</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link rel=stylesheet href=/google-fonts/Mulish/mulish.css><link rel=stylesheet href=/fontawesome/css/all.min.css><link rel=stylesheet href=/css/colortheme/colortheme.css><link rel=icon type=image/png href=/images/site/favicon_hu577c375f84fd7495871e597685ecc2ca_406533_42x0_resize_box_3.png><meta property="og:title" content="Radar Region Proposal Network"><meta property="og:description" content="Radar Region Proposal Network (RRPN) uses Radar detections in an autonomous vehicle to generate real-time region proposals for two-stage object detection networks."><meta property="og:type" content="article"><meta property="og:url" content="https://mrnabati.github.io/posts/projects/04_rrpn/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-10T17:25:44-04:00"><meta property="article:modified_time" content="2020-05-10T17:25:44-04:00"><meta name=description content="Radar Region Proposal Network"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-129495160-1","auto"),ga("send","pageview"))</script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/main-logo_hu577c375f84fd7495871e597685ecc2ca_406533_42x0_resize_box_3.png alt=Logo>
Ramin's Homepage</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><div id=theme-initialization style=display:none default-theme=system></div><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# onclick=enableLightTheme()><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# onclick=enableDarkTheme()><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# onclick=useSystemTheme()><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu577c375f84fd7495871e597685ecc2ca_406533_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo_hu577c375f84fd7495871e597685ecc2ca_406533_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/projects/>Projects</a><ul class=active><li><a href=/posts/projects/00_fmow/ title=fMoW>fMoW</a></li><li><a href=/posts/projects/01_spacenet/ title=SpaceNet3>SpaceNet3</a></li><li><a href=/posts/projects/02_ecocar3/ title=EcoCAR3>EcoCAR3</a></li><li><a href=/posts/projects/03_ecocarmc/ title="EcoCAR Mobility Challenge">EcoCAR Mobility Challenge</a></li><li><a class=active href=/posts/projects/04_rrpn/ title=RRPN>RRPN</a></li><li><a href=/posts/projects/05_radar_camera_fusion/ title=RCSF>RCSF</a></li><li><a href=/posts/projects/06_centerfusion/ title=CenterFusion>CenterFusion</a></li></ul></li><li><a href=https://medium.com/@ramin.nabati/installing-an-nvme-ssd-drive-on-nvidia-jetson-xavier-37183c948978 title="NVMe SSD on Nvidia Jetson Xavier">NVMe SSD on Nvidia Jetson Xavier</a></li><li><a href=https://medium.com/@ramin.nabati/enabling-can-on-nvidia-jetson-xavier-developer-kit-aaaa3c4d99c9 title="Enable CAN on Nvidia Jetson Xavier">Enable CAN on Nvidia Jetson Xavier</a></li><li><a href=/posts/002_adv_pytorch_freezing_layers/ title="Pytorch: Freezing Layers">Pytorch: Freezing Layers</a></li><li><a href=/posts/003_adv_pytorch_modifying_the_last_layer/ title="Pytorch: Modifying Layers">Pytorch: Modifying Layers</a></li><li><a href=/posts/004_adv_pytorch_integrating_pytorch_cpp_frontend_in_visual_studio_on_windows/ title="Pytorch: C++ API">Pytorch: C++ API</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/posts/projects/04_rrpn/images/featured.png)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/ramin_hu577c375f84fd7495871e597685ecc2ca_406533_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>Ramin Nabati</h5><p>Sunday, May 10, 2020</p></div><div class=title><h1>Radar Region Proposal Network</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/tags/autonomous-driving/ class="btn, btn-sm">Autonomous Driving</a></li><li class=rounded><a href=/tags/sensor-fusion/ class="btn, btn-sm">Sensor Fusion</a></li><li class=rounded><a href=/tags/object-detection/ class="btn, btn-sm">Object Detection</a></li></ul></div><div class=post-content id=post-content><h2 id=introduction>Introduction</h2><p>Radar Region Proposal Network (RRPN) is a Radar-based real-time region proposal algorithm for object detection in autonomous driving vehicles. RRPN generates object
proposals by mapping Radar detections to the image coordinate system and generating pre-defined anchor boxes for
each mapped Radar detection point. These anchor boxes are
then transformed and scaled based on the object’s distance
from the vehicle, to provide more accurate proposals for the
detected objects. The generated proposals can be used in any two-stage object detection network
such as Fast-RCNN. Relying only on Radar detections to generate object proposals makes an extremely fast RPN, making
it suitable for autonomous driving applications. Aside from
being a RPN for an object detection algorithm, the proposed
network also inherently acts as a sensor fusion algorithm by
fusing the Radar and camera data to obtain higher accuracy
and reliability.</p><p>RRPN also provides an attention mechanism to focus the
underlying computational resources on the more important
parts of the input data. While in other object detection applications the entire image may be of equal importance. In
an autonomous driving application more attention needs to be
given to objects on the road. For example in a highway driving scenario, the perception system needs to be able to detect
all the vehicles on the road, but there is no need to dedicate resources to detect a picture of a vehicle on a billboard. A Radar
based RPN focuses only on the physical objects surrounding
the vehicle, hence inherently creating an attention mechanism
focusing on parts of the input image that are more important.</p><h2 id=our-approach>Our Approach</h2><p>The first step in generating ROIs is mapping the radar detections from the vehicle coordinates to the camera-view coordinates. Radar detections are reported in a bird’s eye view perspective as shown in image (a) in the figure below, with the object’s range and azimuth measured in the vehicle’s coordinate system. By mapping these detections to the camera-view coordinates, we are
able to associate the objects detected by the Radars to those
seen in the images obtained by the camera.</p><figure><img src=./images/anchors.png><figcaption><h4>Generating anchors from radar detections.</h4></figcaption></figure><h3 id=anchor-generation>Anchor Generation</h3><p>Once the Radar detections are mapped to the image coordinates, we have the approximate location of every detected object in the image. These mapped Radar detections, hereafter
called Points of Interest (POI), provide valuable information
about the objects in each image, without any processing on
the image itself. Having this information, a simple approach
for proposing ROIs would be introducing a bounding box centered at every POI. One problem with this approach is that
Radar detections are not always mapped to the center of the
detected objects in every image. Another problem is the fact
that Radars do not provide any information about the size of
the detected objects and proposing a fixed-size bounding box
for objects of different sizes would not be an effective approach.</p><p>We use the idea of anchor bounding boxes from <a href=https://arxiv.org/abs/1506.01497 target=_blank rel=noopener>Faster
R-CNN</a> to alleviate the problems mentioned above. For
every POI, we generate several bounding boxes with different
sizes and aspect ratios centered at the POI, as shown in the figure above (b). We use 4 different sizes and 3 different aspect ratios to
generate these anchors.
To account for the fact that the POI is not always mapped
to the center of the object in the image coordinate, we also
generate different translated versions of the anchors. These
translated anchors provide more accurate bounding boxes
when the POI is mapped towards the right, left or the bottom
of the object as shown in figure above. The generated anchors for a radar detection is shown in the figure below:</p><figure><img src=./images/prop.png><figcaption><h4>Anchors generated from a radar detection</h4></figcaption></figure><h3 id=distance-compensation>Distance Compensation</h3><p>The distance of each object from the vehicle plays an important role in determining its size in the image. Generally, objects’ sizes in an image have an inverse relationship with their
distance from the camera. Radar detections have the range information for every detected object, which is used in this step
to scale all generated anchors. We use the following formula
to determine the scaling factor to use on the anchors:</p><p>$$ S_i = \alpha \dfrac{1}{d_i} + \beta $$</p><p>where $d_i$
is the distance to the $i$th object, and $\alpha$ and $\beta$ are two
parameters used to adjust the scale factor. These parameters
are learned by maximizing the Intersection Over Union (IOU)
between the generated bounding boxes and the ground truth
bounding boxes in each image. The generated proposals for two radar detection points after distance compensation are shown in the figure below:</p><figure><img src=./images/prop_adj.png><figcaption><h4>Proposals after distance compensation.</h4></figcaption></figure><p>Figures below show a sample image and the proposals generated from all radar detections:</p><figure><img src=./images/prop_gt.png><figcaption><h4>Sample image with ground truth and radar detections</h4></figcaption></figure><figure><img src=./images/prop_all.png><figcaption><h4>Generated proposals from all radar detections.</h4></figcaption></figure><p>The evaluation results are provided in our <a href=https://arxiv.org/pdf/1905.00526.pdf target=_blank rel=noopener>ICIP 2019 conference paper</a>.</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fmrnabati.github.io%2fposts%2fprojects%2f04_rrpn%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fmrnabati.github.io%2fposts%2fprojects%2f04_rrpn%2f&text=Radar%20Region%20Proposal%20Network&via=Ramin%27s%20Homepage" target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=https%3a%2f%2fmrnabati.github.io%2fposts%2fprojects%2f04_rrpn%2f&title=Radar%20Region%20Proposal%20Network" target=_blank><i class="fab fa-reddit"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fmrnabati.github.io%2fposts%2fprojects%2f04_rrpn%2f&title=Radar%20Region%20Proposal%20Network" target=_blank><i class="fab fa-linkedin"></i></a>
<a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=Radar%20Region%20Proposal%20Network https%3a%2f%2fmrnabati.github.io%2fposts%2fprojects%2f04_rrpn%2f" target=_blank><i class="fab fa-whatsapp"></i></a>
<a class="btn btn-sm email-btn" href="mailto:?subject=Radar%20Region%20Proposal%20Network&body=https%3a%2f%2fmrnabati.github.io%2fposts%2fprojects%2f04_rrpn%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https:/github.com/mrnabati/mrnabati.github.io/edit/main/content/posts/projects/04_rrpn/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/projects/03_ecocarmc/ title="EcoCAR Mobility Challenge" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>EcoCAR Mobility Challenge</div></a></div><div class="col-md-6 next-article"><a href=/posts/projects/05_radar_camera_fusion/ title="Radar-Camera Sensor Fusion and Depth Estimation" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>Radar-Camera Sensor Fusion and Depth Estimation</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#our-approach>Our Approach</a><ul><li><a href=#anchor-generation>Anchor Generation</a></li><li><a href=#distance-compensation>Distance Compensation</a></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://mrnabati.github.io/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://mrnabati.github.io/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://mrnabati.github.io/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://mrnabati.github.io/#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://mrnabati.github.io/#publications>Publications</a></li><li class=nav-item><a class=smooth-scroll href=https://mrnabati.github.io/#recent-posts>Recent Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=https://github.com/mrnabati target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>mrnabati</span></a></li><li><a href=https://www.linkedin.com/in/ramin-nabati target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Ramin Nabati</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2022 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script type=text/javascript src=/js/darkreader.js></script>
<script type=text/javascript src=/js/darkmode-darkreader.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script><link rel=stylesheet href=/katex/katex.min.css><script type=text/javascript defer src=/katex/katex.min.js></script>
<script type=text/javascript defer src=/katex/auto-render.min.js onload=renderMathInElement(document.body)>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]})</script><script src=/js/mermaid-8.14.0.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>